const submitBtn = document.getElementById("login"); const noti =
document.querySelector(".noti"); noti.style.display = "none"; // Validation
functions const validateEmail = () => { if (email.classList.contains("error")) {
email.classList.remove("error");
document.querySelector(".email.error").style.display = "none"; } if
(email.value.trim().length === 0) { email.classList.add("error");
document.querySelector(".email.error").style.display = "inline-block"; return
false; } return true; }; const validatePsw = () => { if
(psw.classList.contains("error")) { psw.classList.remove("error");
document.querySelector(".psw.error").style.display = "none"; } if
(psw.value.trim().length < 1) { psw.classList.add("error");
document.querySelector(".psw.error").style.display = "inline-block"; return
false; } return true; }; // Show alert based on status const showAlert =
(status) => { if (status === "failed") { alert("Login failed! Try again"); }
else if (status === "success") { alert("Login Success!"); } }; // Handle the
sign-in button click event submitBtn.addEventListener("click", async (e) => {
e.preventDefault(); // Prevent form from submitting if (validateEmail() &&
validatePsw()) { const data = { email: email.value, psw: psw.value }; try {
const response = await fetch("/sign-in", { method: "POST", headers: {
"Content-Type": "application/json", }, body: JSON.stringify(data), }); const
result = await response.json(); if (result.status === 200) { // After successful
login, redirect to inbox setTimeout(() => { window.location.replace("/inbox");
}, 300); } else { showAlert("failed"); } } catch (err) { console.error("Login
error:", err); } } });
